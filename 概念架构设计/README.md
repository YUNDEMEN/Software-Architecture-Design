 <a href="https://ibb.co/ZH43f1T"><img src="https://i.ibb.co/CJCqws0/2.png" alt="2" border="0"></a>
 
 **关键功能，关键质量进，概念架构出**，概念架构在系统设计中非常重要，因需求和设计之间存在一道无型的鸿沟，很多人在需求分析后不知道怎么做了。
 概念架构是直指系统设计目标的设计思想和重大选择---是关乎任何系统成败的最关健的 指向性的设计。必须同时重视关健功能和关键质量。要明确给出 **1 个决定  4 个选型（1 个 决定： 如何划分顶级子系统   4 个选型： 架构风格选型  开发技术选型   集成技术选型  二次开发技术选型）**
 
* 最常见的软件架构
  * 分层架构
  * 事件驱动架构
  * 微核架构
  * 微服务架构
  * 云架构

* 概念架构设计要领 1： 功能需求与质量需求并重

  * 2.1 功能性设计
  
    如何从功能需求向设计过渡： 运用**鲁棒图建模技术**进行设计
  
    功能性设计的复杂度--功能越来越多，导致系统复杂度指数级上升
    
    解决从功能需求向设计过渡问题就要用到“鲁棒图建模技术”，
    
    1. 鲁棒图(Robustness Diagram)---
    
    2. 软件系统的鲁棒性(Robustness)---软件“健壮性”， 指当错误发生时，系统依然正确运行功能的能力，从而将程序崩溃的危险减为系统不正常的危险。
    
  
  * 2.2 非功能性设计
   
    如何从质量需求向设计过渡： 运用**目标--场景--决策表**进行设计
    
    解决从质量需求向设计过渡问题就要用到“场景技术”，其关键是**使笼统的非功能目标明确化**，
    
    **包含5要素：**
    
    1. 影响来源
    
    2. 如何影响
    
    3. 受影响对象
    
    4. 问题
    
    5. 所处环境
    
    **场景思维的工具**
    
    1. 场景卡： 是“关键点”（用于识别场景）
    
    2. 目标--场景--决策表： “纵贯线”（用于打通思维）

    **系统非功能性设计的6个复杂度**
    
    * 2.2.1.  [高性能架构](https://github.com/stevenli91748/System-Design/blob/master/High%20performance%20architecture/README.md)
    * 2.2.2.  [高可用性架构](https://github.com/stevenli91748/System-Design/blob/master/High%20availability%20architecture/README.md)
    * 2.2.3.  [高伸缩性架构](https://github.com/stevenli91748/System-Design/blob/master/Highly%20scalable%20architecture/README.md)
    * 2.2.4.  [高櫎展性架构](https://github.com/stevenli91748/System-Design/blob/master/高櫎展性架构/README.md)
    * 2.2.5.  [高安全性架构](https://github.com/stevenli91748/System-Design/blob/master/高安全性架构/README.md)
    * 2.2.6.  [高并发架构](https://github.com/stevenli91748/System-Design/blob/master/High%20concurrency%20architecture/README.md)


    
* 概念架构设计要领 2： 概念架构设计要明确的是“1 个决定， 4 个选择”
  
<a href="https://ibb.co/Pw345Hn"><img src="https://i.ibb.co/FgNJBTM/ds-Buffer-bmp.png" alt="ds-Buffer-bmp" border="0"></a><br /><a target='_blank' href='https://freeonlinedice.com/'>dice game online</a><br />
  
<a href="https://ibb.co/hYD36jt"><img src="https://i.ibb.co/Hhn5Ssk/ds-Buffer1-bmp-2.png" alt="ds-Buffer1-bmp-2" border="0"></a><br /><a target='_blank' href='https://imgbb.com/'>upload pic</a><br />

   * 第一步： 通过初步设计，探索架构风格和高层分割
   * 第二步： 基于"目标--场景--决策表"思维选择架构风格，划分顶级子系统
     <a href="https://ibb.co/j4XQpXR"><img src="https://i.ibb.co/Th37C3L/2.png" alt="2" border="0"></a>   
   * 第三步： 开发技术 集成技术与二次开发技术的选型
   
 * 概念架构设计要领 3： 备选设计
 * 第四步： 基于“概念架构设计备选方案评审表”对三个备选方案进行评审，敲定概念架构方案
   
   <a href="https://ibb.co/S6XW04T"><img src="https://i.ibb.co/cycMtS5/ds-Buffer3-bmp-2.png" alt="ds-Buffer3-bmp-2" border="0"></a><br /><a target='_blank' href='https://imgbb.com/'>upload photo album online</a><br />
 
   基于已有的技术或架构模式进行组合，然后调整，大部分情况下就能够得到我们需要的方案，但并不意味着架构设计是一件很简单的事情。因为可选的模式有很多，
   
   组合的方案更多，往往一个问题的解决方案有很多个：如果在组合的方案上进行一些创新，那么解决方案会更多。这个阶段也是很多架构师容易犯锚的地方。

   **第一种常见的错误： 设计最优秀的方案！**

       很多架构师在设计架构方案时，心里会默认有一种技术情结：我要设计一个优秀的架构，才能体现我的技术能力
       
       正确的做法是：根据架构设计原则中“简单原则”的要求，挑选合适自己业务、团队、技术能力的方案才是好方案；否则要么浪费大量资源开发了无用的系统
       
   **第二种常见的错误：只做一个方案！**
   
       很多架构师在做方案设计时，可能心里会简单地对几个方案进行初步的设想，再简单地判断哪个最好，然后就基于这个判断开始进行详细的架构设计了。
       
       这样做有很多弊端：
       
         • 心里评估过于简单，可能没有想得全面，只是因为某一个缺点就把某个方案给否决了，而实际上没有哪个方案是完美的，某个地方有缺点的
           方案可能是综合来看最好的方案。
       
         • 架构师再怎么牛，经验知识和技能也有局限，有可能某个评估的标准或经验是不正确的，或者是老的经验不适合新的情况，甚
           至有的评估标准是架构师自己原来就理解错了。

         • 单一方案设计会出现过度辩护的情况， 即架构评审时，针对方案存在的问题和疑问，架构师会竭尽全力去为自己的设计进行辩护，经验不足的设计人员
           可能会强词夺理。

       因此，架构师需要设计多个备选方案，但方案的数量可以说是无穷无尽的，架构师也不可能穷举所有方案，那合理的做法应该是什么样的呢？
       
       正确的做法如下：
       
       • 备选方案的数量以3 ～ 5 个为最佳。

            少于3 个方案可能是因为思维狭隘，考虑不周全；多于5 个则需要耗费大量的精力和时间，并且方案之间的差别可能不明显。

       • 备选方案的差异要比较明显。
       
            例如，主备方案和集群方案差异就很明显，或者同样是主备方案，用ZooKeeper 做主备决策和用Keepal ived 做主备决策的差异也很明显。但是都
            用ZooKeeper 做主备决策，一个检测周期是l 分钟， 一个检测周期是5 分钟，这就不是架构上的差异，而是细节上的差异了，不适合做成两个方案。
            
       • 备选方案的技术不要只局限于己经熟悉的技术。
       
            设计架构时，架构师需要将视野放宽，考虑更多可能性。很多架构师或设计师积累了一些成功的经验，出于快速完成任务和降低风险的目的，可能自觉或
            不自觉地倾向于使用自己己经熟悉的技术，对于新的技术有一种不放心的感觉。就像那句俗语说的：“如果你手里有一把锤子，那么所有的问题在你看来
            都是钉子”。例如，架构师对MySQL 很熟悉，因此不管什么存储都基于MySQL 去设计方案，系统性能不够了，首先考虑的就是MySQL 分库分表，而事实
            上也许引入一个Memcache 缓存就能够解决问题。
            
   **第三种常见的错误：备选方案过于详细。**
   
   
       有的架构师或设计师在写备选方案时，错误地将备边方案等同于最终的方案，每个备选方案都写得很细。这样做的弊端显而易见：

       • 耗费了大量的时间和精力；

       • 将注意力集中到细节中，忽略了整体的技术设计，导致备选方案数量不够或差异不大；
       
       • 评审的时候其他人会被很多细节给绕进去，评审效果很差。例如，评审的时候针对某个定时器应该是l 分钟还是30 秒， 争论得不可开交。
   
       正确的做法是备选阶段关注的是技术选型，而不是技术细节，技术选型的差异要比较明显。例如，采用ZooKeeper 和Keepalived 两种不同的技术来实现主
       备，差异就很大； 而同样都采用Zoo Keeper ， 一个方案的节点设计是／service/node/master ，另一个方案的节点设计是/company/service/master，
       这两个方案并无明显差异，无须在备选方案设计阶段作为两个不同的备选方案，至于节点路径究竟如何设计，只要在最终的方案中挑选一个进行细化即可
   
   
   
   
   
   
   
   
   
   
   
