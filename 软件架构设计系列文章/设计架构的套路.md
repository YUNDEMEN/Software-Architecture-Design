# 设计架构的套路

**1. 有的放矢一一识别复杂度**

     架构设计的本质目的是为了解决软件系统的复杂性，所以在我们设计架构时，首先就要分析系统的复杂性。只有正确分析出了系统的复杂性，后续的架构设计方案
     才不会偏离方向；否则如果对系统的复杂性进行了错误的判断，即使后续的架构设计方案再完美再先进，都是南辗北辙，做得越好，错得越多、越离谱。 

     架构的复杂度主要来源于“高性能”“高可用”“可扩展”等几个方面，但架构师在具体判断复杂性的时候，不能生搬硬套，认为任何时候都从这三个方面进行复杂度
     分析就可以了。实际上绝大部分场景下，复杂度只是其中的某一个，少数情况下包含其中两个，如果真的出现同时需要解决三个或三个以上的复杂度，要么说明
     这个系统之前做得实在是太烂了，要么架构师的判断出现了严重失误。
   
     如果运气真的不好，接手了一个每个复杂度都存在问题的系统，那应该怎么办呢？正确的做法是将主要的复杂度问题列出来，然后根据业务、技术、团队等综合情
     况进行排序，优先解决当前面临的最主要的复杂度问题,对于按照复杂度优先级解决的这种方式有一个普遍的担忧：如果按照优先级来解决复杂度，可能会出现解
     决了优先级排在前面的复杂度后，解决后续复杂度的方案需要将已经落地的方案推倒重来。这个担忧理论上是可能的，但现实中几乎是不可能出现的，原因在于软
     件系统的可塑性和易变性：对于同一个复杂度问题，软件系统的方案可以有多个，总是可以挑出综合来看性价比最高的方案。即使架构师决定要推倒重来，这个新
     的方案也必须能够同时解决己经被解决的复杂度问题，一般来说能够达到这种理想状态的方案基本都是依靠新技术的引入。

**2. 按图索骥一一设计备选方案**

     确定了系统面临的主要复杂度问题后，方案设计就有了明确的目标，我们就可以开始真正进行架构方案设计了。成熟的架构师首先对已经存在的技术非常熟悉，对
     己经经过验证的架构模式烂熟于心，然后根据自己对业务的理解，挑选合适的架构模式进行组合，再对组合后的方案进行修改和调整。
     
**2.1 各种场景验证过的成熟技术方案**

      高可用的主备方案
      集群方案
      高性能的负载均衡方案
      多路复用方案
      可扩展的分层方案
      插件化方案

**3. 深思熟虑一一评估和选择备选万案**
