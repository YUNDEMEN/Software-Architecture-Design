**有经验的架构师在系统架构设计的早期比较注重识别 1 重大需求 2 特色需求 3 高风险需求，据此来决定如何划分顶级子系统，采用什麽架构风格和开发技术，集成是否要支持，二次开发是否要支持，而把 模块  +  接口放在细化架构设计中**

# 决定如何划分顶级子系统

        这个定义很简单， 但包含的信息很丰富， 基本上把系统、子系统、模块、组件、架构等概念都串起来了，详细阐述如下。

        首先，“系统由一群关联个体组成”，这些“个体”可以是“子系统”“模块”“组件”等，架构需要明确系统包含哪些“个体”。

        其次，系统中的个体需要“根据某种规则”运作，架构需要明确个体运作和协作的规则。

        第三， 维基百科的架构定义中用到了“基础结构”这个说法，我们改为“顶层结构”，可以更好地区分系统和子系统，避免将系统架构和子系统架构混淆导致架构层次混乱。

微服务架构设计的首要任务就是合理划分微服务，即围绕业务功能创建微服务项目。在划分微服务时，有关微服务粗细粒度的考量，建议在平台创建的初始阶段使用粗粒度的方法，按业务功能进行划分。随着业务的发展及其运营的情况，再依据发展规模考虑是否继续细分。下面，我们将使用水平划分法和垂直划分法两种方法相结合的方式创建微服务

一方面，**在水平方向上**，根据业务功能划分微服务，并把这次划分所创建的微服务称为REST API微服务。REST API微服务负责业务功能的行为设计，主要完成数据管理方面的工作，并通过使用REST协议，对外提供接口服务。另一方面，

**在垂直方向上**，再以REST API微服务为基础，实现前后端分离设计，创建Web UI微服务。Web UI微服务不直接访问数据，它只专注于人机交互界面的设计，它的数据存取将通过调用REST API微服务来完成。这样，经过两次微服务划分，我们就可以创建出REST API和Web UI两种类型的微服务。也就是说，我们只要使用两种类型的微服务，就可以构建一个复杂的业务系统。

使用REST API和Web UI微服务，结合高性能和高并发的设计，再通过微服务的多副本发布，就可以构建一个能适应任何规模访问的、多维的、稳定牢固的网格结构，并且这个网格结构还具有自由伸缩的特性，可以根据业务的发展规模进行扩充或者缩编，这样就可以快速地搭建一个可持续扩展的系统平台
